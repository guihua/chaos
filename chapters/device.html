<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.32">
    <link rel="icon" href="./images/favicon.png"><title>陀螺仪的基础知识 | 桂花的私人厨房</title><meta name="description" content="桂花的私人厨房 ">
    <link rel="modulepreload" href="/assets/app.f239267c.js"><link rel="modulepreload" href="/assets/device.html.dc9966a5.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/device.html.bf5c1a35.js">
    <link rel="stylesheet" href="/assets/style.b5235dab.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/logo.png" alt="桂花的私人厨房"><span class="site-name can-hide">桂花的私人厨房</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/guihua/chaos.git" rel="noopener noreferrer" target="_blank" aria-label="Github 地址"><!--[--><!--]--> Github 地址 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://github.com/guihua/chaos.git" rel="noopener noreferrer" target="_blank" aria-label="Github 地址"><!--[--><!--]--> Github 地址 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p class="sidebar-item sidebar-heading active">Chapters <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/chapters/gitbook.html" class="sidebar-item" aria-label="Gitbook 教程"><!--[--><!--]--> Gitbook 教程 <!--[--><!--]--></a><!----></li><li><a href="/chapters/sublime.html" class="sidebar-item" aria-label="Sublime 教程"><!--[--><!--]--> Sublime 教程 <!--[--><!--]--></a><!----></li><li><a href="/chapters/performance.html" class="sidebar-item" aria-label="/chapters/performance.md"><!--[--><!--]--> /chapters/performance.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/array.html" class="sidebar-item" aria-label="数组操作"><!--[--><!--]--> 数组操作 <!--[--><!--]--></a><!----></li><li><a href="/chapters/shuffle.html" class="sidebar-item" aria-label="/chapters/shuffle.md"><!--[--><!--]--> /chapters/shuffle.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/fe.html" class="sidebar-item" aria-label="一个前端的自我修养"><!--[--><!--]--> 一个前端的自我修养 <!--[--><!--]--></a><!----></li><li><a href="/chapters/interview.html" class="sidebar-item" aria-label="/chapters/interview.md"><!--[--><!--]--> /chapters/interview.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/dom.html" class="sidebar-item" aria-label="HTML DOM"><!--[--><!--]--> HTML DOM <!--[--><!--]--></a><!----></li><li><a href="/chapters/scrum.html" class="sidebar-item" aria-label="/chapters/scrum.md"><!--[--><!--]--> /chapters/scrum.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/bc-rect.html" class="sidebar-item" aria-label="/chapters/bc-rect.md"><!--[--><!--]--> /chapters/bc-rect.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/boom.html" class="sidebar-item" aria-label="/chapters/boom.md"><!--[--><!--]--> /chapters/boom.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/jquery.html" class="sidebar-item" aria-label="/chapters/jquery.md"><!--[--><!--]--> /chapters/jquery.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/css-spinners.html" class="sidebar-item" aria-label="/chapters/css-spinners.md"><!--[--><!--]--> /chapters/css-spinners.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/component.html" class="sidebar-item" aria-label="/chapters/component.md"><!--[--><!--]--> /chapters/component.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/overseas.html" class="sidebar-item" aria-label="/chapters/overseas.md"><!--[--><!--]--> /chapters/overseas.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/pm.html" class="sidebar-item" aria-label="/chapters/pm.md"><!--[--><!--]--> /chapters/pm.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/js-random.html" class="sidebar-item" aria-label="/chapters/js-random.md"><!--[--><!--]--> /chapters/js-random.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/chart.html" class="sidebar-item" aria-label="/chapters/chart.md"><!--[--><!--]--> /chapters/chart.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/mac-svn.html" class="sidebar-item" aria-label="/chapters/mac-svn.md"><!--[--><!--]--> /chapters/mac-svn.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/javascript.html" class="sidebar-item" aria-label="/chapters/javascript.md"><!--[--><!--]--> /chapters/javascript.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/copy.html" class="sidebar-item" aria-label="/chapters/copy.md"><!--[--><!--]--> /chapters/copy.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/resource.html" class="sidebar-item" aria-label="/chapters/resource.md"><!--[--><!--]--> /chapters/resource.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/copy.html" class="sidebar-item" aria-label="/chapters/copy.md"><!--[--><!--]--> /chapters/copy.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/antd.html" class="sidebar-item" aria-label="Ant Design"><!--[--><!--]--> Ant Design <!--[--><!--]--></a><!----></li><li><a href="/chapters/git.config.html" class="sidebar-item" aria-label="配置git的SSH Key"><!--[--><!--]--> 配置git的SSH Key <!--[--><!--]--></a><!----></li><li><a href="/chapters/nodelist.html" class="sidebar-item" aria-label="/chapters/nodelist.md"><!--[--><!--]--> /chapters/nodelist.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/html5.1.html" class="sidebar-item" aria-label="/chapters/html5.1.md"><!--[--><!--]--> /chapters/html5.1.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/webstorm.html" class="sidebar-item" aria-label="/chapters/webstorm.md"><!--[--><!--]--> /chapters/webstorm.md <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chapters/device.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="陀螺仪的基础知识"><!--[--><!--]--> 陀螺仪的基础知识 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/chapters/device.html#html5-orientation" class="router-link-active router-link-exact-active sidebar-item" aria-label="HTML5 Orientation"><!--[--><!--]--> HTML5 Orientation <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chapters/device.html#地球坐标系统" class="router-link-active router-link-exact-active sidebar-item" aria-label="地球坐标系统"><!--[--><!--]--> 地球坐标系统 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chapters/device.html#alpha-beta-和-gamma-角" class="router-link-active router-link-exact-active sidebar-item" aria-label="Alpha, Beta 和 Gamma 角"><!--[--><!--]--> Alpha, Beta 和 Gamma 角 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/chapters/device.html#alpha-α-角" class="router-link-active router-link-exact-active sidebar-item" aria-label="Alpha（α）角"><!--[--><!--]--> Alpha（α）角 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chapters/device.html#beta-β-角" class="router-link-active router-link-exact-active sidebar-item" aria-label="Beta（β）角"><!--[--><!--]--> Beta（β）角 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chapters/device.html#gamma-γ-角" class="router-link-active router-link-exact-active sidebar-item" aria-label="Gamma(γ)角"><!--[--><!--]--> Gamma(γ)角 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/chapters/device.html#重力感应" class="router-link-active router-link-exact-active sidebar-item" aria-label="重力感应"><!--[--><!--]--> 重力感应 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chapters/device.html#deviceorientation事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="deviceorientation事件"><!--[--><!--]--> deviceorientation事件 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/chapters/device.html#检测和监听方向事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="检测和监听方向事件"><!--[--><!--]--> 检测和监听方向事件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chapters/device.html#检测和监听移动事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="检测和监听移动事件"><!--[--><!--]--> 检测和监听移动事件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/chapters/device.html#只用自定义界面通知用户校准罗盘" class="router-link-active router-link-exact-active sidebar-item" aria-label="只用自定义界面通知用户校准罗盘"><!--[--><!--]--> 只用自定义界面通知用户校准罗盘 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><li><a href="/chapters/nvm.html" class="sidebar-item" aria-label="/chapters/nvm.md"><!--[--><!--]--> /chapters/nvm.md <!--[--><!--]--></a><!----></li><li><a href="/chapters/flash.html" class="sidebar-item" aria-label="/chapters/flash.md"><!--[--><!--]--> /chapters/flash.md <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item sidebar-heading">Node <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/node/gulp.html" class="sidebar-item" aria-label="/node/gulp.md"><!--[--><!--]--> /node/gulp.md <!--[--><!--]--></a><!----></li><li><a href="/node/node-remove.html" class="sidebar-item" aria-label="/node/node-remove.md"><!--[--><!--]--> /node/node-remove.md <!--[--><!--]--></a><!----></li><li><a href="/node/net.html" class="sidebar-item" aria-label="使用 superagent 与 cheerio 完成简单爬虫"><!--[--><!--]--> 使用 superagent 与 cheerio 完成简单爬虫 <!--[--><!--]--></a><!----></li><li><a href="/node/homebrew.html" class="sidebar-item" aria-label="/node/homebrew.md"><!--[--><!--]--> /node/homebrew.md <!--[--><!--]--></a><!----></li><li><a href="/node/Mongoclient.html" class="sidebar-item" aria-label="/node/Mongoclient.md"><!--[--><!--]--> /node/Mongoclient.md <!--[--><!--]--></a><!----></li><li><a href="/node/npm.html" class="sidebar-item" aria-label="/node/npm.md"><!--[--><!--]--> /node/npm.md <!--[--><!--]--></a><!----></li><li><a href="/node/chmod.html" class="sidebar-item" aria-label="/node/chmod.md"><!--[--><!--]--> /node/chmod.md <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item sidebar-heading">React.js <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/react/react.html" class="sidebar-item" aria-label="/react/react.md"><!--[--><!--]--> /react/react.md <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item sidebar-heading">Redux <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/redux/redux.html" class="sidebar-item" aria-label="/redux/redux.md"><!--[--><!--]--> /redux/redux.md <!--[--><!--]--></a><!----></li><li><a href="/redux/redux.glossary.html" class="sidebar-item" aria-label="/redux/redux.glossary.md"><!--[--><!--]--> /redux/redux.glossary.md <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item sidebar-heading">Vue.js <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/vue/vue.html" class="sidebar-item" aria-label="/vue/vue.md"><!--[--><!--]--> /vue/vue.md <!--[--><!--]--></a><!----></li><li><a href="/vue/vue.2.0.html" class="sidebar-item" aria-label="/vue/vue.2.0.md"><!--[--><!--]--> /vue/vue.2.0.md <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item sidebar-heading">JS排序 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/js-sort/sort.html" class="sidebar-item" aria-label="/js-sort/sort.md"><!--[--><!--]--> /js-sort/sort.md <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item sidebar-heading">PostCSS <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/postcss/chapter01.html" class="sidebar-item" aria-label="/postcss/chapter01.md"><!--[--><!--]--> /postcss/chapter01.md <!--[--><!--]--></a><!----></li><li><a href="/postcss/chapter02.html" class="sidebar-item" aria-label="/postcss/chapter02.md"><!--[--><!--]--> /postcss/chapter02.md <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item sidebar-heading">WeUI <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/weui/mixin.html" class="sidebar-item" aria-label="/weui/mixin.md"><!--[--><!--]--> /weui/mixin.md <!--[--><!--]--></a><!----></li><li><a href="/weui/touch.html" class="sidebar-item" aria-label="/weui/touch.md"><!--[--><!--]--> /weui/touch.md <!--[--><!--]--></a><!----></li><li><a href="/weui/page-manager.html" class="sidebar-item" aria-label="/weui/page-manager.md"><!--[--><!--]--> /weui/page-manager.md <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="陀螺仪的基础知识" tabindex="-1"><a class="header-anchor" href="#陀螺仪的基础知识" aria-hidden="true">#</a> 陀螺仪的基础知识</h1><h2 id="html5-orientation" tabindex="-1"><a class="header-anchor" href="#html5-orientation" aria-hidden="true">#</a> HTML5 Orientation</h2><p><code>HTML5 Orientation</code> 是HTML5中一个非常酷的特性，它主要用来检测智能设备（手机、平板等）的运动方向。在现在的移动端开发中已给用户带来更良好的体验，也在很多项目中发挥了重要的重用。</p><p>目前在下面的场景中常常能看到其相关的身影：</p><ul><li>控制游戏 - Web游戏应用监控设备方向，并将其解释为控制屏幕上的精灵在某方向上的倾斜。</li><li>手势识别 - Web应用监控设备的加速，并将其应用于信号处理，以便识别特定首饰。距离说明，使用摇晃手势清除web表单。</li><li>地图 - Web地图应用使用设备方向，将地图与实际情况对齐。</li></ul><p>在使用设备运动方向(Device Orientation)API之前，先得确保浏览器支持这些API。支持性判断：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>if (window.DeviceOrientationEvent) {
    //  支持DeviceOrientation API写在这里
} else {
    console.log(&quot;对不起，您的浏览器还不支持Device Orientation!!!&quot;);
}
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="地球坐标系统" tabindex="-1"><a class="header-anchor" href="#地球坐标系统" aria-hidden="true">#</a> 地球坐标系统</h2><p>先来看一张地球坐标系统的图：</p><p><img src="/assets/1.56d420aa.png" alt="地球坐标系统"></p><p>地心地固坐标系（Earth-Centered, Earth-Fixed，简称ECEF）简称地心坐标系，是一种以地心为原点的地固坐标系（也称地球坐标系），是一种笛卡儿坐标系。原点 <code>O</code> <code>(0,0,0)</code> 为地球质心，<code>z</code> 轴与地轴平行指向北极点，<code>x</code> 轴指向本初子午线与赤道的交点，<code>y</code> 轴垂直于 <code>xOz</code> 平面(即东经90度与赤道的交点)构成右手坐标系。</p><p>地球坐标系统是由 <code>x</code>、<code>y</code>、<code>z</code> 三个轴组成，基于重力和标准磁场方向。简单点讲，地球坐标系统是一个位于用户位置的东、北、上系，其拥有 <code>3</code> 个轴，地面相切与1984世界测地系统的Spheriod的用户所在位置。</p><ul><li>东(<code>x</code>)在地面上，垂直于北轴，向东为正 (东西方向)</li><li>北(<code>y</code>)在地面上，向正北为正（指向北极）（南北方向）</li><li>上(<code>z</code>)垂直于地面，向上为正（上下方向）</li></ul><p>对于一个移动设备，例如电话或平板，设备坐标系的定义于屏幕的标准方向相关。这意味着类似于键盘的滑动元素没有展开、类似于显示器的选择元素折叠至其默认位置。如果在设备旋转或展开滑动键盘时屏幕方向发生变化，这不会影响关于设备的坐标系的方向。</p><p>用户希望获得这些屏幕方向的变化可以使用现有的 <code>orientationchange</code> 事件。</p><ul><li><code>x</code> 在屏幕或键盘平面上，屏幕或键盘的右侧为正。</li><li><code>y</code> 在屏幕或键盘屏幕上，屏幕或键盘的上方为正。</li><li><code>z</code> 垂直于屏幕或键盘屏幕，离开屏幕或键盘为正。</li></ul><p>如下图所示：</p><p><img src="/assets/2.e3079c6e.png" alt="手机坐标三维系统"></p><p>从地球坐标系到设备坐标系的转变必须按照下列系统转换。旋转必须使用右手规则，即正向沿一个轴旋转为从该轴的方向看顺时针旋转。从两个系重合开始，旋转应用下列规则：</p><ul><li>以设备坐标系 <code>z</code> 轴为轴，旋转 <code>alpha</code> 度。<code>alpha</code> 的作用域为 <code>(0, 360)</code>。</li><li>以设备坐标系 <code>x</code> 轴为轴，旋转 <code>beta</code> 度。<code>beta</code> 的作用域为 <code>(-180, 180)</code>。</li><li>已设备坐标系 <code>y</code> 轴为轴，旋转 <code>gamma</code> 度。<code>gamma</code> 的作用域为 <code>(-90, 90)</code>。</li></ul><p>如下图所示：</p><p><img src="/assets/3.e938c724.png" alt="手机坐标变化"></p><h2 id="alpha-beta-和-gamma-角" tabindex="-1"><a class="header-anchor" href="#alpha-beta-和-gamma-角" aria-hidden="true">#</a> Alpha, Beta 和 Gamma 角</h2><p>Alpha(<code>α</code>), Beta（<code>β</code>） 和 Gamma（<code>γ</code>）角也称之为旋转数据。旋转数据作为欧拉角(Euler Angle)返回，是设备坐标系和地球坐标系之间的差异值。</p><p>在解释Alpha、Beta和Gamma这三个角之前，我们需要定义存在的空间。如下图所示，展示了移动设备上使用的三维坐标系统:</p><p><img src="/assets/2.e3079c6e.png" alt="手机坐标三维系统"></p><p>在手机或者平板上，设备定位方向是基于屏幕方向的。对于手机和平板来说，他们都是基于纵向模式的设备，对于台式机或笔记本电脑来说，他们的定位方向和键盘有关。</p><h3 id="alpha-α-角" tabindex="-1"><a class="header-anchor" href="#alpha-α-角" aria-hidden="true">#</a> Alpha（α）角</h3><p>Alpha（α）角代表的是z轴。因此，任何沿着z轴旋转都会使用Alpha(α)角变化。Alpha(α)的变化范围是(0~360)度之间。当α = 0时，设备是直接每日向地球的北极。下图显示了α旋转。</p><p><img src="/assets/4.39cf0bd9.png" alt="Alpha（α）角"></p><p>设备逆时针旋转，Alpha(α)值增加。</p><h3 id="beta-β-角" tabindex="-1"><a class="header-anchor" href="#beta-β-角" aria-hidden="true">#</a> Beta（β）角</h3><p>Beta（β）角代表的是x轴。设备绕着x轴旋转将导致Beta（β）角变化。Beta（β）的变化范围是(-180 ~ 180)度之间。当设备平行于地球表面时β = 0，比如说，你把手机平放在桌面上。下图显示了β旋转:</p><p><img src="/assets/5.b9ac63eb.png" alt="Beta（β）角"></p><h3 id="gamma-γ-角" tabindex="-1"><a class="header-anchor" href="#gamma-γ-角" aria-hidden="true">#</a> Gamma(γ)角</h3><p>Gamma(γ)角代表的是y轴。设备绕着y轴旋转将导致Gamma(γ)角变化。Gamma(γ)角的变化范围是(-90 ~ 90)度。当设备平行于地球表面时γ = 0。下图显示了γ旋转:</p><p><img src="/assets/6.3db85417.png" alt="Gamma(γ)角"></p><h2 id="重力感应" tabindex="-1"><a class="header-anchor" href="#重力感应" aria-hidden="true">#</a> 重力感应</h2><p>说到重力感应有一个东西不得不提，那就是就是陀螺仪，陀螺仪就是内部有一个陀螺，陀螺仪一旦开始旋转，由于轮子的角动量，陀螺仪有抗拒方向改变的特性，它的轴由于陀螺效应始终与初始方向平行，这样就可以通过与初始方向的偏差计算出实际方向。</p><h2 id="deviceorientation事件" tabindex="-1"><a class="header-anchor" href="#deviceorientation事件" aria-hidden="true">#</a> deviceorientation事件</h2><p>设备方向事件会返回设备旋转角度数据，如果手机或者笔记本电脑有指南针的话，返回数据中还会包括设备当前的朝向。在 HTML5 OrientationAPI 提供了三个相应的DOM事件:</p><ul><li><p><code>deviceorientation</code> - 其提供设备的物理方向信息，表示为一系列本地坐标系的旋角</p></li><li><p><code>devicemotion</code> - 其提供设备的加速信息，表示为定义在设备上的坐标系中的卡尔迪坐标。其还提供了设备在坐标系中的自转速率。若可行的话，事件应该提供设备重心处的加速信息。</p></li><li><p><code>compassneedscalibration</code> - 其用于通知Web站点使用罗盘信息校准上述事件。</p></li></ul><h3 id="检测和监听方向事件" tabindex="-1"><a class="header-anchor" href="#检测和监听方向事件" aria-hidden="true">#</a> 检测和监听方向事件</h3><p>设备方向事件有几种使用场景，例如：</p><ul><li>更新移动的用户的地图</li><li>UI调整，像是增加Paralax（视差滚动：指让多层背景以不同的速度移动，形成立体的运动效果，带来非常出色的视觉体验）效果 结合地理定位，用于导航</li><li>检测和监听方向事件</li></ul><p>在监听 <code>DeviceOrientationEvent</code> 事件前，我们首先要检查浏览器是否支持。然后再在 window 中增加 <code>deviceorientation</code> 事件监听。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>if (window.DeviceOrientationEvent) {
    window.addEventListener(&#39;deviceorientation&#39;, deviceOrientationHandler, false);
    document.getElementById(&quot;doeSupported&quot;).innerText = &quot;&quot;;
}
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>当设备移动或者方向改变时，设备方向事件就会被触发。它会返回当前位置相对于地球坐标的差值。</p><p>事件通常会返回 <code>Alipha</code>、<code>Beta</code> 和 <code>Gamma</code> 三个值。在移动端Safari浏览器中，还会返回 <code>webkitCompassHeading</code> 属性值，这个属性值与指南针（compass）的导向有关。</p><h3 id="检测和监听移动事件" tabindex="-1"><a class="header-anchor" href="#检测和监听移动事件" aria-hidden="true">#</a> 检测和监听移动事件</h3><p>监听 <code>DeviceMotionEvents</code> 事件前，首先要检查浏览器是否支持，然后再在 window 上监听 <code>devicemotion</code> 事件。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>if (window.DeviceMotionEvent) {
    window.addEventListener(&quot;devicemotion&quot;, deviceMotionHandler);
    setTimeout(stopJump, 3*1000);
}
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="只用自定义界面通知用户校准罗盘" tabindex="-1"><a class="header-anchor" href="#只用自定义界面通知用户校准罗盘" aria-hidden="true">#</a> 只用自定义界面通知用户校准罗盘</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>window.addEventListener(&quot;compassneedscalibration&quot;, function(event) {
    alert(&#39;您的罗盘需要校准，请将设备沿数字8方向移动。&#39;);
    event.preventDefault();
}, true);
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/guihua/chaos.git/edit/main/chapters/device.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/chapters/webstorm.html" class="" aria-label="/chapters/webstorm.md"><!--[--><!--]--> /chapters/webstorm.md <!--[--><!--]--></a></span><span class="next"><a href="/chapters/nvm.html" class="" aria-label="/chapters/nvm.md"><!--[--><!--]--> /chapters/nvm.md <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.f239267c.js" defer></script>
  </body>
</html>
